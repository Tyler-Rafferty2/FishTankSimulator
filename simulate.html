<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Simulate</title>
    <style>
      /*
      .box {
        position: fixed;
        top: 0px;
        left: 0px;
        width: 100vw;
        height: 70px;
        margin-bottom: 10px;
        background-color: rgb(190, 190, 255);
        z-index: 9;
      }
      .downbar {
        position: absolute;
        left: -10px;
        width: 30px;
        height: 700px;
        background-color: rgb(138, 71, 168);
        z-index: 0;
      }*/
      .flowers {
        position: fixed;
        top: 5px;
        left: 5px;
        width: 100px;
        height: 60px;
        z-index: 10;
      } /*
      .title {
        position: fixed;
        top: -10px;
        left: 125px;
        width: 1000px;
        height: 60px;
        font-family: "Times New Roman";
        font-size: 35px;
        z-index: 10;
      }
      .image-button {
        position: fixed;
        top: 5px;
        right: 10px;
        width: 60px;
        height: 50px;
        z-index: 10;
        background: none;
        background-size: cover;
        border: none;
        cursor: pointer;
        overflow: hidden;
        clip-path: polygon(11% 15%, 90% 15%, 90% 85%, 11% 85%);
      }*/
      .adding {
        position: relative;
        top: 50px;
        left: 40px;
        width: 1000px;
        height: 60px;
        font-family: "Times New Roman";
        font-size: 35px;
        z-index: 3;
      }
      ul {
        background: #3399ff;
        font-size: 15px;
        padding: 20px;
        width: 400px;
      }
      ul li {
        position: relavtive;
        background: #cce5ff;
        color: darkblue;
        margin: 5px;
      }
    </style>
  </head>
  <body>
    <div class="box"></div>
    <div class="downbar"></div>
    <a href="index.html">
      <img class="flowers" src="images/flowers.jpg" alt="an image of flowers" />
    </a>
    <h1 class="title">This is the title</h1>

    <button
      class="image-button"
      type="button"
      onclick="alert('CSS Styled Button Clicked!')"
    >
      <img src="images/button.png" alt="Click Me" />
    </button>

    <h2 class="adding">Add a Fish</h2>
    <h3>Enter a tank size</h3>
    <input type="text" id="textInput" placeholder="Size of the Tank" />

    <script>
      function isCarInList(carName) {
        const carList = document.getElementById("car-list");
        const listItems = carList.getElementsByTagName("li");

        // Loop through the list items to see if the car name exists
        for (let item of listItems) {
          if (item.textContent.includes(carName)) {
            return true; // Car is found
          }
        }
        return false; // Car is not found
      }
      const carData = [
        { name: "African Cichlids", size: 5, carelevel: 2, mintanksize: 30 },
        { name: "Angelfish", size: 6, carelevel: 2, mintanksize: 20 },
        { name: "Bala Shark", size: 14, carelevel: 2, mintanksize: 75 },
        { name: "Betta Fish", size: 2.5, carelevel: 1, mintanksize: 5 },
        {
          name: "Black Ghost Knifefish",
          size: 20,
          carelevel: 3,
          mintanksize: 100,
        },
        {
          name: "Blood Parrot Cichlid",
          size: 8,
          carelevel: 2,
          mintanksize: 30,
        },
        {
          name: "Boesemani Rainbow Fish",
          size: 6,
          carelevel: 2,
          mintanksize: 30,
        },
        { name: "Bolivian Ram", size: 3, carelevel: 2, mintanksize: 20 },
        { name: "Bristlenose Pleco", size: 6, carelevel: 1, mintanksize: 30 },
        {
          name: "Celestial Pearl Danio",
          size: 1,
          carelevel: 1,
          mintanksize: 10,
        },
        { name: "Cherry Barb", size: 2, carelevel: 1, mintanksize: 20 },
        { name: "Clown Loach", size: 12, carelevel: 2, mintanksize: 75 },
        { name: "Corydory", size: 3, carelevel: 1, mintanksize: 20 },
        { name: "Discus", size: 8, carelevel: 3, mintanksize: 50 },
        { name: "Dwarf Gourami", size: 2, carelevel: 2, mintanksize: 10 },
        { name: "Elephant Nose Fish", size: 9, carelevel: 2, mintanksize: 50 },
        { name: "Emperor Tetra", size: 2, carelevel: 1, mintanksize: 20 },
        {
          name: "Endlerâ€™s Livebearer",
          size: 1.5,
          carelevel: 1,
          mintanksize: 10,
        },
        { name: "Flowerhorn Cichlid", size: 12, carelevel: 2, mintanksize: 75 },
        { name: "German Blue Ram", size: 3, carelevel: 3, mintanksize: 20 },
        { name: "Glass Catfish", size: 4, carelevel: 2, mintanksize: 20 },
        { name: "Goldfish", size: 6, carelevel: 2, mintanksize: 20 },
        { name: "Guppy", size: 2.5, carelevel: 1, mintanksize: 5 },
        { name: "Harlequin Rasbora", size: 2, carelevel: 1, mintanksize: 10 },
        { name: "Hoplo Catfish", size: 6, carelevel: 1, mintanksize: 30 },
        { name: "Killifish", size: 4, carelevel: 2, mintanksize: 20 },
        { name: "Kissing Gourami", size: 4, carelevel: 1, mintanksize: 30 },
        { name: "Kribensis Cichlid", size: 4, carelevel: 1, mintanksize: 25 },
        { name: "Kuhli Loach", size: 4, carelevel: 2, mintanksize: 20 },
        { name: "Molly", size: 3, carelevel: 1, mintanksize: 10 },
        { name: "Neon Tetra", size: 1.5, carelevel: 1, mintanksize: 10 },
        { name: "Otocinclus Catfish", size: 2, carelevel: 2, mintanksize: 20 },
        { name: "Paradise Fish", size: 4, carelevel: 1, mintanksize: 20 },
        { name: "Pea Pufferfish", size: 1, carelevel: 2, mintanksize: 5 },
        { name: "Peacock Gudgeon", size: 2.5, carelevel: 2, mintanksize: 10 },
        { name: "Pearl Gourami", size: 4, carelevel: 1, mintanksize: 30 },
        { name: "Platy", size: 2.5, carelevel: 1, mintanksize: 10 },
        { name: "Rainbow Shark", size: 6, carelevel: 2, mintanksize: 55 },
        {
          name: "Rasbora Borapetensis",
          size: 2,
          carelevel: 1,
          mintanksize: 10,
        },
        { name: "Red Tail Shark", size: 6, carelevel: 2, mintanksize: 55 },
        { name: "Rosy Barb", size: 5, carelevel: 1, mintanksize: 30 },
        { name: "Rummynose Tetra", size: 2, carelevel: 2, mintanksize: 20 },
        { name: "Siamese Algae Eater", size: 6, carelevel: 1, mintanksize: 30 },
        { name: "Silver Dollar", size: 6, carelevel: 2, mintanksize: 50 },
        { name: "Sparkling Gourami", size: 1.6, carelevel: 1, mintanksize: 10 },
        { name: "Swordtail", size: 2.8, carelevel: 1, mintanksize: 15 },
        { name: "Tiger Barb", size: 3, carelevel: 1, mintanksize: 20 },
        {
          name: "White Cloud Mountain Minnow",
          size: 1.5,
          carelevel: 1,
          mintanksize: 10,
        },
        { name: "Zebra Danio", size: 2, carelevel: 1, mintanksize: 10 },
      ];

      function populateCarDropdown() {
        const selectElement = document.getElementById("cars");
        carData.forEach((car) => {
          const option = document.createElement("option");
          option.value = car.name; // The value could be an ID or name
          option.text = `${car.name}`;
          selectElement.appendChild(option);
        });
      }

      // Call this function when the page loads
      window.onload = function () {
        populateCarDropdown();
      };

      // Function to get selected car details
      function getSelectedCar() {
        const selectElement = document.getElementById("cars");
        const selectedCarName = selectElement.value;

        // Find the selected car object in the carData array
        const selectedCar = carData.find((car) => car.name === selectedCarName);

        console.log(selectedCar); // You can use the car's details (e.g., price, color, stock, etc.)
      }
      function addCarToList(event) {
        event.preventDefault(); // Prevent the form from submitting

        // Create a new car object for each addition
        let newCar = {
          name: "",
          amount: 1,
        };

        // Get the selected car
        const selectElement = document.getElementById("cars");
        newCar.name = selectElement.options[selectElement.selectedIndex].text;

        if (!isCarInList(newCar.name)) {
          const li = document.createElement("li");
          li.textContent = `Car: ${newCar.name}, Amount: ${newCar.amount}`;

          const removeButton = document.createElement("button");
          removeButton.textContent = "Remove";
          removeButton.style.marginLeft = "10px";
          removeButton.onclick = function () {
            li.remove(); // Remove the list item when the button is clicked
          };

          const addButton = document.createElement("button");
          addButton.textContent = "Add";
          addButton.style.marginLeft = "10px";
          addButton.onclick = function () {
            newCar.amount++;
            li.textContent = `Car: ${newCar.name}, Amount: ${newCar.amount}`;
            li.appendChild(addButton);
            li.appendChild(minusButton);
            li.appendChild(removeButton);
          };

          const minusButton = document.createElement("button");
          minusButton.textContent = "Minus";
          minusButton.style.marginLeft = "10px";
          minusButton.onclick = function () {
            if (newCar.amount > 1) {
              newCar.amount--;
              li.textContent = `Car: ${newCar.name}, Amount: ${newCar.amount}`;
              li.appendChild(addButton);
              li.appendChild(minusButton);
              li.appendChild(removeButton);
            }
          };

          li.appendChild(addButton);
          li.appendChild(minusButton);
          li.appendChild(removeButton);

          const carList = document.getElementById("car-list");
          carList.appendChild(li);
        }
      }

      // Function to access and return the current car list as an array of objects
      function getCarList() {
        const carList = document.getElementById("car-list");
        const listItems = carList.getElementsByTagName("li");
        const cars = [];

        for (let item of listItems) {
          const carData = item.textContent.match(/Car: (.*), Amount: (\d+)/);
          if (carData) {
            const carName = carData[1];
            const carAmount = parseInt(carData[2]);
            cars.push({ name: carName, amount: carAmount });
          }
        }

        return cars;
      }

      // Example usage: Access the current list of cars
      function showCarList() {
        const cars = getCarList();
        console.log(cars); // Logs the list of cars
      }

      //print
      function print(length, size, minsize, mincare) {
        // Create a new h1 element
        const heading = document.createElement("h1");

        // Set the text content for the heading
        console.log(
          `Total fish length: ${length} inches and tank size is ${size} and min tank size is ${minsize} and min care level is ${mincare}`
        );
        heading.textContent = `Total fish length: ${length} inches and tank size is ${size} and min tank size is ${minsize} and min care level is ${mincare}`;

        // Find the container where the heading will be inserted
        const container = document.getElementById("container");

        // Append the heading to the container
        if (container.firstElementChild) {
          container.removeChild(container.firstElementChild);
        }
        container.appendChild(heading);
      }
      // Example usage: Simulate total number of cars
      function simulate() {
        const cars = getCarList();
        let totalLength = 0;
        let minsize = 0;
        let mincare = 0;
        for (let selectedCar of cars) {
          const carInfo = carData.find((car) => car.name === selectedCar.name);
          if (carInfo) {
            totalLength += selectedCar.amount * carInfo.size; // Sum size * amount
          }
          if (carInfo.mintanksize > minsize) {
            minsize = carInfo.mintanksize;
          }
          if (carInfo.carelevel > mincare) {
            mincare = carInfo.carelevel;
          }
        }
        var input = document.getElementById("textInput").value;
        print(totalLength, input, minsize, mincare);
      }
    </script>

    <form onsubmit="addCarToList(event)">
      <label for="cars">Choose a car:</label>
      <select name="cars" id="cars"></select>
      <br /><br />
      <input type="submit" value="Submit" />
    </form>

    <h2>Selected Cars:</h2>
    <ul id="car-list"></ul>

    <button class="simulate-button" type="button" onclick="simulate()">
      <img src="" alt="Simulate" />
    </button>
    <div id="container"></div>
  </body>
</html>
